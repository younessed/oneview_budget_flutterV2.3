// ⚠️ CE BLOC DOIT ÊTRE EN PREMIER !
pluginManagement {
  // Lire flutter.sdk depuis local.properties, mais À L’INTÉRIEUR de pluginManagement
  def props = new Properties()
  def f = new File(rootDir, "local.properties")
  if (f.exists()) {
    f.withReader("UTF-8") { props.load(it) }
  }
  def flutterSdkPath = props.getProperty("flutter.sdk")
  if (flutterSdkPath == null) {
    throw new GradleException("flutter.sdk manquant dans local.properties")
  }

  repositories {
    google()
    mavenCentral()
    gradlePluginPortal()
  }

  // Important : chemin ABSOLU du SDK Flutter
  includeBuild("${flutterSdkPath}/packages/flutter_tools/gradle")
}

plugins {
  id "dev.flutter.flutter-plugin-loader" version "1.0.0"
  id "com.android.application" version "8.6.1" apply false
  id "org.jetbrains.kotlin.android" version "2.1.0" apply false
}

include(":app")
